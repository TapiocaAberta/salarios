<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta http-equiv="X-UA-Compatible" content="chrome=1" />
  <meta name="description" content="Salarios : App para exibir toda a folha de pagamento da prefeitura de São José dos Campos." />

  <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

  <script type='text/javascript' src='https://www.google.com/jsapi'></script>
  <script type="text/javascript" language="javascript" src="javascripts/array_salarios.js"></script>
  <script type='text/javascript'>
    var pageSize = 10;

    google.load('visualization', '1', {packages:['table']});
    google.setOnLoadCallback(drawTable);

    function drawTable() {
      var data = google.visualization.arrayToDataTable(array_salarios);

      var formatter = new google.visualization.NumberFormat({
        prefix: "R$", 
        pattern: 'R$ #,###,###.00', 
        negativeColor: 'red', 
        negativeParens: true
      });

        formatter.format(data, 1); // Apply formatter to second column

        var table = new google.visualization.Table(document.getElementById('salarios_table'));
        table.draw(data, {showRowNumber: true, page: 'enable', 'pageSize': pageSize});
        console.log("testes");
      }

      function setOption(prop, value) {
        pageSize = value;
        drawTable(value);
      }
    </script>


    <title>Salarios</title>
  </head>
  <body>
    <!-- HEADER -->
    <div id="header_wrap" class="outer">
      <header class="inner">
        <a id="forkme_banner" href="https://github.com/transparenciasjc/salarios">View on GitHub</a>

        <h1 id="project_title">Salarios</h1>
        <h2 id="project_tagline">Folha de pagamentos da prefeitura de São José dos Campos.</h2>
      </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <form action="">
          Número de linhas exibidas na tabela:
          <select onChange="setOption('pageSize', parseInt(this.value, 10))">
            <option selected=selected value="10">10</option>
            <option value="25">20</option>
            <option value="50">50</option>
            <option value="100">100</option>
          </select>
        </form>

        Clique na Aba "Cargo" ou "Salários" para organizá-los por ordem alfabética/numérica.

        <div id='salarios_table'></div>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">

        <section id="downloads">
          <a class="zip_download_link" href="https://github.com/transparenciasjc/salarios/zipball/master">Download this project as a .zip file</a>
          <a class="tar_download_link" href="https://github.com/transparenciasjc/salarios/tarball/master">Download this project as a tar.gz file</a>
        </section>

        <p class="copyright">Salarios maintained by <a href="https://github.com/transparenciasjc">transparenciasjc</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

  </body>
  </html>
